#include <iostream>
#include <vector>
#include <algorithm>
#include <cassert>

struct Rectangle {
    int x1 = 0;
    int y1 = 0;
    int x2 = 0;
    int y2 = 0;
    Rectangle(int x1_, int y1_, int x2_, int y2_)
        : x1(x1_), y1(y1_), x2(x2_), y2(y2_) {}
    long long area() const {
      return std::max(0, x2 - x1) * std::max(0, y2 - y1);
    }
};

Rectangle intersect(const Rectangle& a, const Rectangle& b) {
    int nx1 = std::max(a.x1, b.x1);
    int ny1 = std::max(a.y1, b.y1);
    int nx2 = std::min(a.x2, b.x2);
    int ny2 = std::min(a.y2, b.y2);
    if (nx1 >= nx2 || ny1 >= ny2) {
        return Rectangle(0, 0, 0, 0);
    }
    return Rectangle(nx1, ny1, nx2, ny2);
}

int intersectall(const std::vector<Rectangle>& rects) {
    if (rects.empty()) {
      return 0;
    }
    Rectangle res = rects[0];
    for (size_t i = 1; i < rects.size(); ++i) {
        res = intersect(res, rects[i]);
    }
    return res.area();
}
Rectangle thebiggestrect(const std::vector<Rectangle>& rects) {
    if (rects.empty()) {
      return Rectangle(0, 0, 0, 0);
    }
    int bx1 = rects[0].x1;
    int by1 = rects[0].y1;
    int bx2 = rects[0].x2;
    int by2 = rects[0].y2;
    for (const auto& r : rects) {
        bx1 = std::min(bx1, r.x1);
        by1 = std::min(by1, r.y1);
        bx2 = std::max(bx2, r.x2);
        by2 = std::max(by2, r.y2);
    }
    return Rectangle(bx1, by1, bx2, by2);
}

int main1() {
  Rectangle a(0, 0, 3, 3);
  Rectangle b(1, 1, 4, 4);
  Rectangle c(2, 0, 5, 2);
  Rectangle ab = intersect(a, b);
  std::vector<Rectangle> r1 = {a, b, c};
  assert(ab.x1 == 1 && ab.y1 == 1 && ab.x2 == 3 && ab.y2 == 3);
  assert(intersectall(r1) == 1);
  Rectangle cover = thebiggestrect(r1);
  assert(cover.x1 == 0 && cover.y1 == 0 && cover.x2 == 5 && cover.y2 == 4);
  Rectangle d(10, 10, 12, 12);
  Rectangle e(0, 0, 5, 5);
  Rectangle f(6, 6, 7, 7);
  std::vector<Rectangle> r2 = {d, e, f};
  Rectangle de = intersect(d, e);
  assert(de.area() == 0);
  Rectangle nocover = thebiggestrect(r2);
  assert(nocover.x1 == 0 && nocover.y1 == 0 && nocover.x2 == 12 && nocover.y2 == 12);
  assert(intersectall(r2) == 0);
  return 0;
}
